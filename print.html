<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>封筒印刷</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    #addressBox {
      position: absolute;
      top: 40%;
      left: 20%;
      transform: translate(-20%, -40%);
      font-size: 24px;
      white-space: pre-line;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div id="addressBox">読み込み中...</div>

  <script>
    function getParam(name) {
      return decodeURIComponent(
        (new URLSearchParams(window.location.search)).get(name) || ""
      );
    }

    const postal = getParam("postal");
    const prefecture = getParam("pref");
    const city = getParam("city");
    const company = getParam("company");

    if (postal || prefecture || city || company) {
      const addressText = `〒${postal}\n${prefecture}${city}\n${company} 御中`;
      document.getElementById("addressBox").innerText = addressText;

      // 印刷実行
      setTimeout(() => window.print(), 800);
    } else {
      document.getElementById("addressBox").innerText = "パラメータが見つかりませんでした。";
    }
  </script>
</body>
</html>
